<!DOCTYPE html>
<html>
<head>
	<title>
		app.es
	</title>

<script type="text/javascript" src="node_modules/traceur/bin/traceur.js"></script>
<script type="text/javascript" src="jspm_packages/es6-module-loader.js"></script>
<script type="text/javascript" src="node_modules/systemjs/dist/system.js"></script>
<script type="text/javascript" src="config.js"></script>


</head>

<body>

 <script>

 var timeout = System.import("timeout").then(( timeout ) => {

      return timeout.default;

  }).then(( timeout )=> {
		
	  return timeout(100);

  }).then(()=>{ console.info("100ms promise resolved") });


var Injector = System.import("injector").then((Injector)=> {   

	return Injector.injector;
	
   }).then((Injector)=>{

		var ViewModelA = {
		   initialize: function () {
		     console.log('ViewModelA');
		  }
		};
		var ViewModelB = {
		    initialize: function () {
		        console.log('ViewModelB');
		   }
		};
		
		
		var WelcomeController = function (ViewModel) {
		     ViewModel.initialize();
		};
		
		Injector.register('ViewModel', Math.random() > 0.5 ? ViewModelA : ViewModelB);
		
		Injector.process(WelcomeController);

	});

 </script>

</body>

</html>
