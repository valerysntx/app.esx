<!DOCTYPE html>
<html>
<head>
	<title>
		app.es
	</title>

<script type="text/javascript" 
        src="node_modules/systemjs/dist/system.js">
</script>

<script>

System.config({ 
  "baseURL": "/",
  "transpiler": "traceur",
  "paths": {
    "*": "*.js",
    "github:*": "jspm_packages/github/*.js",
    "npm:*":"jspm_packages/npm/*.js"
  },
 "map": {
    "guybedford/system-md": "github:guybedford/system-md@0.0.1",
    "knockout": "github:knockout/knockout@3.3.0",
    "traceur": "node_modules/traceur/bin/traceur@0.0.90",
    "traceur-runtime": "github:jmcriffey/bower-traceur-runtime@0.0.88",
    "github:guybedford/system-md@0.0.1": {
      "showdown": "github:showdownjs/showdown@0.3.4"
    }
  }
  
});

</script>

<script type="module" src="github:knockout"></script>


</head>

<body>

<script type="text/html" id="template">
    <div data-bind="html: header" class="ui segment message green"></div>
    <div data-bind="html: jumbo" class="ui segment message blue"></div>
</script>

<div data-bind="template: 'template'" class="ui segment basic"></div>

<script>
  System.import("injector").then((Injector) => {   
	return Injector.default;
  }).then((Injector) => {

        var injector = Injector();

	    var Header = function (headerText){
		    this.headerText = headerText;
		    return {
		    	data : headerText  
		    }
		}

	    var Jumbo = function (jumboText){
		    this.jumboText = jumboText;
		    return {
		    	data : jumboText  
		    }
		}

		var ApplicationController = function (Jumbo, Header) {
		     ko.applyBindings({ 
		     	 header: ko.observable(Header.data),
		     	 jumbo: ko.observable(Jumbo.data) 
		      });
		};
	
	injector.register('Header', new Header( System.import("header!md")
								.then((headerText)=>{  return headerText  })));
		
	injector.register('Jumbo', new Jumbo( System.import("jumbo!md")
								.then((jumboText)=>{  return jumboText  })));


	injector.process(ApplicationController);

});

</script>
</body>
</html>